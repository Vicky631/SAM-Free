# ShanghaiTech 数据集配置（小样本：box prompt；定位指标基于 point）

dataset:
  name: "ShanghaiTech"
  loader_class: "ShanghaiTechDatasetLoader"
  data_dir: "/ZHANGyong/wjj/dataset/ShanghaiTech"
  part: "A"   # A 或 B
  # box 生成策略（可选）
  # box_size: 32              # 固定大小（不填则自适应）
  adaptive_box_min: 16
  adaptive_box_max: 64
  adaptive_box_div: 18

model:
  sam_checkpoint: "/ZHANGyong/wjj/online_models/sam/sam_vit_b_01ec64.pth"
  model_type: "vit_b"

training:
  prompt_type: "box"          # box / point
  prompt_box_num: 3
  prompt_select: "random"     # head / random / spatial(回退到random)
  seed: 0

bmnet:
  use_bmnet: false
  bmnet_cfg: "/ZHANGyong/wjj/BMNet/config/test_bmnet+.yaml"
  bmnet_checkpoint: "/ZHANGyong/wjj/BMNet/checkpoints/bmnet+_pretrained/model_best.pth"
  bmnet_device: ""

sam_params:
  points_per_side: 64
  points_per_batch: 64
  pred_iou_thresh: 0.88
  stability_score_thresh: 0.85
  use_ref_sim_filter: false
  ref_sim_thresh: 0.3
  verbose_point_stats: false

evaluation:
  distance_thresh: 10.0
  vis_sigma: 4.0
  # 冒烟测试：限制评估张数；设为 0 表示全量
  max_images: 20

output:
  base_dir: "./logsSave"
  split_tag: "test"           # train / test
  save_visualization: true
  print_every: 1              # 每多少张打印一次摘要；1=每张
